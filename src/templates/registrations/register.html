{% extends "base_template.html" %}
{% block title %}Blog Registration Form{% endblock %}
{% block content %}

<!-- Top content -->
<div class="top-content">

    <div class="inner-bg">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 col-sm-offset-2 text">
                    <h1><strong>Blog</strong> Registration Form</h1>

                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 phone">
                    <img src="static/template/assets/img/iphone.png" alt="">
                </div>
                <div class="col-sm-5 form-box">
                    <div class="form-top">
                        <div class="form-top-left">
                            <h2>Register to use your blog</h2>
                            <p>Fill in the form below or click the <a href="{{ url_for('login_app.login') }}"> login</a>
                                button to login</p>
                        </div>


                        <div class="form-top-right">
                            <i class="fa fa-pencil"></i>
                        </div>
                    </div>
                    <div class="form-bottom">

                        {% if registered %}
                            <div class="alert alert-success">
                                {% with messages = get_flashed_messages() %}
                                    {% if messages %}
                                        <ul class=flashes>
                                            {% for message in messages %}
                                                <li>{{ message }}</li>
                                            {% endfor %}
                                        </ul>
                                    {% endif %}
                                {% endwith %}
                            </div>
                        {% endif %}

                        {% if error %}
                            <div class="alert alert-danger">
                                {{ error }}
                            </div>
                        {% endif %}
                        {% from "__formhelpers.html" import render_field %}
                        <form role="form" method="post" action="{{ url_for('registration_app.register_user') }}" class="registration-form">

                            {{ form.hidden_tag() }} <!-- prevents cross site scripting  -->
                            {{ render_field(form.first_name, class="form-control") }}
                            {{ render_field(form.last_name, class="form-control") }}
                            {{ render_field(form.username, class="form-control") }}
                            {{ render_field(form.author_name, class="form-control") }}
                            {{ render_field(form.email, class="form-control") }}
                            {{ render_field(form.password, class="form-control") }}
                            {{ render_field(form.confirm, class="form-control") }}

                            <hr>
                            <button type="submit" class="btn btn-primary">Sign me up!</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


{% endblock %}